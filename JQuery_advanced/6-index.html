<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Task 6</title>
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
  <script>
    //to select the right table in the fucntion addNewMember, give this table here an id
  function createFamilyTree() {
  var table = $("<table>").attr('id', 'familyTree').append($("<thead>").append($("<tr>").append($("<th>").text("Firstname")).append($("<th>").text("Lastname"))));
  table.append($("<tbody>"));
  return table;
  }

  //select the table created by createFamilyTree by its id
  function addNewMember(firstName, lastName, position) {
    var newRow = $('<tr>').append($('<td>').text(firstName), $('<td>').text(lastName), $('<td>').text(position).css('background-color', 'orange'));
    $('#familyTree tbody').append(newRow);
  }

  //execute the above code when the page is loaded
  $(document).ready(function() {
  $("body").append(createFamilyTree());
  $("#familyTree tbody").on('click', 'td', function() {
  $(this).parent().remove();
    });
  addNewMember("Guillaume", "Salva");
  addNewMember("Arielle", "Snizt");
  addNewMember("Fanette", "Snizt");
  addNewMember("Gerard", "Snizt");
  addNewMember("Victor", "Salva");
  });

  function createForm() {
    var input1 = $('<input>').attr('type', 'text');
    var input2 = $('<input>').attr('type', 'text');

    var select = $('<select>');
    $('<option>').val('before').text('Before').appendTo(select);
    $('<option>').val('after').text('After').appendTo(select);

    var submitButton = $('<input>').attr('type', 'submit');
    submitButton.on('click', function(event) {
      event.preventDefault();
      var firstName = input1.val();
      var lastName = input2.val();
      var position = select.val();
      addNewMember(firstName, lastName, position);
    });

    $('#familyTree').prepend(input1, input2, select, submitButton);
  }

  $(document).ready(function() {
    $("body").append(createFamilyTree());
    createForm();
    $("#familyTree tbody").on('click', 'td', function() {
      $(this).parent().remove();
    });
    addNewMember("Guillaume", "Salva", "before");
    addNewMember("Arielle", "Snizt", "after");
    addNewMember("Fanette", "Snizt", "before");
    addNewMember("Gerard", "Snizt", "after");
    addNewMember("Victor", "Salva", "before");
  });

</script>
</head>

<body>

</body>

</html>